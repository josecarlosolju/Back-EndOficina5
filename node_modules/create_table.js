const mysql = required('mysql');
const connection = mysql.createConnection({
    host:'XXX',
    port: 'XXX',
    user: 'XXX',
    password: 'XXX',
    database: 'XXX',
});
 connection.connect(function(err){
     if(err) return console.log(err);
     console.log('conectou');
 })

 function createTable(conn){

    const sql = "CREATE TABLE IF NOT EXISTS Veiculos (\n"+
                "ID int NOT NULL AUTO_INCREMENT,\n"+
                "veiculo String(50) NOT NULL,\n"+
                "marca String(50) NOT NULL,\n"+
                "ano interger NOT NULL,\n"+
                "vendido bool ,\n"+
                "created datetime ,\n"+
                "update datetime ,\n"+
                "PRIMARY KEY (ID)\n"+
                ");";
    
    conn.query(sql, function (error, results, fields){
        if(error) return console.log(error);
        console.log('criou a tabela!');
    });

    connection.connect(function(err){
        if(err) return console.log(err);
        console.log('conectou!');
        createTable(connection);
      })

      function addRows(conn){
        const sql = "INSERT INTO Clientes(veiculo,marca,ano,descricao,vendido,created,updated) VALUES ?";
        const values = [
              ['teste1', 'marcateste', '2009', 'bom carro', 'true'],
              ['teste2', 'marcateste2', '2010', 'bom carro2', 'true'],
              ['teste3', 'marcateste3', '2011', 'bom carro3', 'false'],

              
            ];
        conn.query(sql, [values], function (error, results, fields){
                if(error) return console.log(error);
                console.log('adicionou registros!');
                conn.end();//fecha a conex√£o
            });
      }
    
}